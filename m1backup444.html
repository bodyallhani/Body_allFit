<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ë°”ë””ì˜¬í• DIET </title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0;
      padding: 16px;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI",
        Roboto, "Noto Sans KR", sans-serif;
      background: #f1f3f4;
      color: #202124;
    }
    .card {
      max-width: 480px;
      margin: 0 auto;
      background: #fff;
      padding: 20px 18px 24px;
      border-radius: 10px;
      box-shadow: 0 1px 3px rgba(60, 64, 67, 0.3);
    }
    h1 {
      font-size: 1.25rem;
      margin: 0 0 4px;
    }
    .subtitle {
      font-size: 0.9rem;
      color: #5f6368;
      margin-bottom: 16px;
    }
    .field {
      margin: 14px 0 22px;
    }
    .label {
      font-size: 0.9rem;
      font-weight: 600;
      margin-bottom: 4px;
    }
    .required {
      color: #d93025;
      margin-left: 3px;
    }
    input[type="text"],
    input[type="tel"],
    input[type="number"],
    textarea,
    select {
      width: 100%;
      padding: 8px 10px;
      border-radius: 4px;
      border: 1px solid #dadce0;
      font-size: 0.95rem;
    }
    input::placeholder,
    textarea::placeholder {
      font-size: 0.85rem;
      color: #80868b;
    }
    textarea {
      min-height: 70px;
      resize: vertical;
    }
    input:focus, textarea:focus, select:focus {
      outline: none;
      border-color: #1a73e8;
      box-shadow: 0 0 0 1px rgba(26,115,232,0.2);
    }
    .consent {
      font-size: 0.8rem;
      background: #eef3ff;
      padding: 8px;
      border-radius: 6px;
      margin-top: 6px;
      line-height: 1.5;
    }
    .consent-row {
      margin-top: 8px;
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 0.85rem;
    }
    button {
      width: 100%;
      margin-top: 16px;
      padding: 10px 0;
      border-radius: 6px;
      border: none;
      background: #1a73e8;
      color: #fff;
      font-size: 0.95rem;
      font-weight: 600;
      cursor: pointer;
    }
    button:disabled {
      opacity: 0.6;
      cursor: default;
    }
    .hint {
      font-size: 0.8rem;
      color: #5f6368;
      margin-top: 10px;
      text-align: center;
      line-height: 1.4;
    }
    .hours-box {
      margin-top: 14px;
      padding: 10px 10px 8px;
      border-radius: 8px;
      background: #f5f7fb;
      font-size: 0.82rem;
      line-height: 1.5;
    }
    .hours-title {
      font-weight: 600;
      margin-bottom: 4px;
    }
    .hours-row {
      margin-bottom: 2px;
    }
    .hours-note {
      margin-top: 4px;
    }
    .bottom-space {
      height: 120px;
    }

    /* ì˜ˆìƒ ê°ëŸ‰ì¹˜ ë¸”ë¡ */
    .calc-box {
      margin-top: 6px;
      padding: 10px 10px 12px;
      border-radius: 8px;
      border: 1px solid #dadce0;
      background: #fafbff;
      font-size: 0.85rem;
    }
    .calc-row {
      display: block;
      margin-top: 6px;
      margin-bottom: 6px;
    }
    .calc-row .half {
      width: 100%;
      margin-top: 6px;
    }
    .calc-result {
      margin-top: 6px;
      font-size: 0.85rem;
      line-height: 1.4;
    }
    .calc-btn {
      margin-top: 8px;
      width: 100%;
      padding: 8px 0;
      font-size: 0.85rem;
    }
  </style>
</head>
<body>
  <div class="card">
    <h1>ë°”ë””ì˜¬í• ê°„í¸ DIET</h1>
    <div class="subtitle">
      ì•„ë˜ ì„¤ë¬¸ì„ ê°„ë‹¨íˆ ë‚¨ê²¨ì£¼ì‹œë©´,<br />
      ì ˆì°¨ì— ë”°ë¼, ì¹´í†¡ì„ í†µí•´ ìƒë‹´ì˜ˆì•½ì„ ì¡ì•„ë“œë¦¬ê² ìŠµë‹ˆë‹¤.<br>
      <br>
      â˜…â˜…â˜…â˜…í•„ë…â˜…â˜…â˜…â˜…â˜…<br>
      <strong>ì„¤ë¬¸ì„ ë§ˆì¹œí›„, ë³‘ì›ì¹´í†¡ìœ¼ë¡œ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ì£¼ì…”ì•¼ 'ìƒë‹´ì˜ˆì•½ì´ ì™„ë£Œ'ë©ë‹ˆë‹¤.</strong><br>
      <strong>ë³‘ì›ì¹´í†¡ì€ ë§ˆì§€ë§‰ í•˜ë‹¨ì˜ 'ì‘ë‹µ ì „ì†¡ ë° ì¹´í†¡ì—°ê²°' ë²„íŠ¼ì„ ëˆ„ë¥´ë©´, ìë™ìœ¼ë¡œ ëœ¹ë‹ˆë‹¤.</strong><br>
    </div>

    <form id="leadForm">
      <!-- ì´ë¦„ -->
      <div class="field">
        <div class="label">
          ì´ë¦„ <span class="required">*</span>
        </div>
        <input
          type="text"
          id="name"
          name="name"
          required
          placeholder="ì‹¤ëª…ì„ ì ì–´ì£¼ì…”ì•¼ ìƒë‹´ì´ ì›í™œíˆ ì§„í–‰ë©ë‹ˆë‹¤. ì˜ˆ: ì¥ì›ì˜"
        />
      </div>

      <!-- ì•Œê²Œëœ ê²½ë¡œ (ì„ íƒ) -->
      <div class="field">
        <div class="label">
          ì–´ë–»ê²Œ ë°”ë””ì˜¬í•ì„ ì•Œê²Œë˜ì…¨ë‚˜ìš”? (ì„ íƒ)
        </div>
        <input
          type="text"
          id="referrer"
          name="referrer"
          placeholder="ì˜ˆ: ì¸ìŠ¤íƒ€ ê´‘ê³ , ì§€ì¸ ì†Œê°œ, ë¸”ë¡œê·¸, ìœ íŠœë¸Œ ë“±"
        />
      </div>

      <!-- í˜„ì¬ ê°€ì¥ ê±±ì •ë˜ëŠ” ì  (ì„ íƒ) -->
      <div class="field">
        <div class="label">
          ì§€ê¸ˆ ê°€ì¥ ê±±ì •ë˜ëŠ” ì  (ì„ íƒ)
        </div>
        <textarea
          id="memo"
          name="memo"
          placeholder="í•œ ì¤„ë§Œ ì ì–´ì£¼ì…”ë„ ì¢‹ìŠµë‹ˆë‹¤. ì˜ˆ: ìš”ìš”ê°€ ë„ˆë¬´ ì‹¬í•´ìš” / ì•¼ì‹ ë•Œë¬¸ì— ì²´ì¤‘ì´ ì•ˆ ë¹ ì ¸ìš”"
        ></textarea>
      </div>

      <!-- ì˜ˆìƒ ê°ëŸ‰ì¹˜ ê³„ì‚°ê¸° -->
      <div class="field">
        <div class="label">ì˜ˆìƒ ê°ëŸ‰ì¹˜ (ì°¸ê³ ìš©)</div>
        <div class="calc-box">
          <div>ì²´ì¤‘ê³¼ ì›í•˜ëŠ” ë‹¤ì´ì–´íŠ¸ ê¸°ê°„ì„ ì…ë ¥í•˜ë©´, ë°”ë””ì˜¬í• í”„ë¡œê·¸ë¨ ê¸°ì¤€ ì˜ˆìƒ ê°ëŸ‰ ë²”ìœ„ë¥¼ ë³´ì—¬ë“œë¦½ë‹ˆë‹¤.</div>
          <div class="calc-row">
            <div class="half">
              <label style="font-size:0.8rem; display:block; margin-bottom:2px;">í˜„ì¬ ì²´ì¤‘ (kg)</label>
              <input
                type="number"
                id="currentWeight"
                inputmode="decimal"
                step="0.1"
                min="30"
                max="200"
                placeholder="ì˜ˆ: 68.5"
              />
            </div>
            <div class="half">
              <label style="font-size:0.8rem; display:block; margin-bottom:2px;">ì›í•˜ëŠ” ë‹¤ì´ì–´íŠ¸ ê¸°ê°„</label>
              <select id="desiredPeriod" name="desired_period">
                <option value="">ì„ íƒ</option>
                <option value="2ì£¼">2ì£¼</option>
                <option value="1ë‹¬">1ë‹¬</option>
                <option value="2ë‹¬">2ë‹¬</option>
                <option value="3ë‹¬">3ë‹¬</option>
                <option value="6ë‹¬">6ë‹¬</option>
              </select>
            </div>
          </div>
          <button type="button" id="calcBtn" class="calc-btn">ê²°ê³¼ë³´ê¸°</button>
          <div id="calcResult" class="calc-result"></div>
        </div>
      </div>

      <!-- ê°œì¸ì •ë³´ ë™ì˜ -->
      <div class="field">
        <div class="label">
          ê°œì¸ì •ë³´ ìˆ˜ì§‘Â·ì´ìš© ë™ì˜ <span class="required">*</span>
        </div>
        <div class="consent">
          ìˆ˜ì§‘ í•­ëª©: ì„±ëª…, ë‹¤ì´ì–´íŠ¸ ê´€ë ¨ ê°„ë‹¨í•œ ë©”ëª¨, (ì„ íƒ) ë°”ë””ì˜¬í• ì¸ì§€ ê²½ë¡œ, ì›í•˜ëŠ” ê°ëŸ‰ê¸°ê°„<br />
          ì´ìš© ëª©ì : ë°”ë””ì˜¬í• ë‹¤ì´ì–´íŠ¸ ìƒë‹´ ë° ì¶”ê°€ ë¬¸ì§„í‘œ ë“±ì˜ ì•ˆë‚´<br />
          ë³´ìœ  ê¸°ê°„: ìƒë‹´ ì¢…ë£Œ í›„ ìµœëŒ€ 5ë…„(ê´€ë ¨ ë²•ë ¹ ë‚´)<br />
          ë™ì˜ë¥¼ ê±°ë¶€í•˜ì‹¤ ìˆ˜ ìˆìœ¼ë‚˜, ì´ ê²½ìš°, ì§„ë£Œìƒë‹´ ë° ì²˜ë°©ì´ ì–´ë µìŠµë‹ˆë‹¤.
        </div>
        <div class="consent-row">
          <input type="checkbox" id="consent" />
          <label for="consent"><strong>ìœ„ ë‚´ìš©ì— ë™ì˜í•©ë‹ˆë‹¤.</strong></label>
        </div>
      </div>

      <!-- ë‹¨ê³„/ë°©ë¬¸í˜•íƒœ -->
      <input type="hidden" name="formType" value="1ì°¨" />
      <input type="hidden" name="visit_mode" value="ë¹„ëŒ€ë©´" />

      <div class="hint">
        ì œì¶œ í›„<br />
        <strong>ë°”ë””ì˜¬í•œì˜ì› ì¹´ì¹´ì˜¤ ì±„ë„</strong>ë¡œ ìë™ ì´ë™í•˜ë©°,<br />
        ë©”ì‹œì§€ëŠ” ì´ë¯¸ ì…ë ¥ë˜ì–´ ìˆìŠµë‹ˆë‹¤.<br/>
        ì „ì†¡ ë²„íŠ¼ë§Œ ëˆŒëŸ¬ì£¼ì„¸ìš”. <br />
        ìˆœì„œëŒ€ë¡œ ìƒë‹´ ë„ì™€ë“œë¦½ë‹ˆë‹¤ <br/>
        * ë§¨ë°‘ì—, ìƒë‹´ ê°€ëŠ¥ì‹œê°„ ì°¸ê³ í•´ì£¼ì„¸ìš”. <br />
      </div>

      <button type="submit" id="submitBtn">ì¹´í†¡ ìƒë‹´ ì‹œì‘í•˜ê¸°</button>

      <div class="hours-box">
        <div class="hours-title">[ìƒë‹´ ê°€ëŠ¥ ì‹œê°„ ì•ˆë‚´]</div>
        <div class="hours-row">
          <strong style="color:#0b52b8;">í‰ì¼</strong> ì˜¤ì „ 10:00 ~ ì˜¤í›„ 8:30
        </div>
        <div class="hours-row">
          <strong style="color:#b11226;">í† Â·ì¼Â·ê³µíœ´ì¼</strong> ì˜¤ì „ 10:00 ~ ì˜¤í›„ 4:00
        </div>
        <div class="hours-row">
          ì ì‹¬ì‹œê°„ ì˜¤í›„ 1:00 ~ 2:00 (í† Â·ì¼Â·ê³µíœ´ì¼ í¬í•¨)
        </div>
        <div class="hours-note">
          * ì„¤Â·ì¶”ì„ ì—°íœ´ ê¸°ê°„, ì—°ê°„ ì´ 6ì¼ë§Œ íœ´ë¬´ì…ë‹ˆë‹¤.
        </div>
        <div class="hours-note">
          * ë§ˆê° 30ë¶„ì „ì—ëŠ” ìƒë‹´ìš”ì²­ì„ ì£¼ì‹œëŠ”ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.
        </div>
      </div>

      <div class="bottom-space"></div>
    </form>
  </div>

  <script>
    const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbzlKD52BulhyKf7fo_fZYGtNv2tYXcPCQcBTtYHKQObwoRMCaHPZt2NI8D1bPwqJRhTow/exec";
    const KAKAO_URL  = "https://pf.kakao.com/ì±„ë„ID/chat?text=ë°”ë””ì˜¬í•%20ìƒë‹´ìš”ì²­í•©ë‹ˆë‹¤";

    // ì˜ˆìƒ ê°ëŸ‰ì¹˜ ê³„ì‚°
    document.getElementById("calcBtn").addEventListener("click", function () {
      const wStr = (document.getElementById("currentWeight").value || "").trim();
      const period = document.getElementById("desiredPeriod").value;
      const resultEl = document.getElementById("calcResult");
      resultEl.textContent = "";

      if (!wStr || !period) {
        alert("í˜„ì¬ ì²´ì¤‘ê³¼ ì›í•˜ëŠ” ë‹¤ì´ì–´íŠ¸ ê¸°ê°„ì„ ëª¨ë‘ ì„ íƒí•´ì£¼ì„¸ìš”.");
        return;
      }

      const weight = parseFloat(wStr);
      if (isNaN(weight) || weight <= 0) {
        alert("ì²´ì¤‘ì„ ìˆ«ìë¡œ ì •í™•íˆ ì…ë ¥í•´ì£¼ì„¸ìš”.");
        return;
      }

      let minLoss = 0, maxLoss = 0;
      // â˜… ë³€ê²½ëœ ë²”ìœ„ ì ìš©
      switch (period) {
        case "2ì£¼":
          minLoss = 1.4; maxLoss = 1.6; break;
        case "1ë‹¬":
          minLoss = 2.7; maxLoss = 3.5; break;
        case "2ë‹¬":
          minLoss = 5.2; maxLoss = 6.4; break;
        case "3ë‹¬":
          minLoss = 8.5; maxLoss = 10.1; break;
        case "6ë‹¬":
          minLoss = 16.1; maxLoss = 20.3; break;
        default:
          alert("ì›í•˜ëŠ” ê¸°ê°„ì„ ë‹¤ì‹œ ì„ íƒí•´ì£¼ì„¸ìš”.");
          return;
      }

      const rand = Math.random() * (maxLoss - minLoss) + minLoss;
      const loss = Math.round(rand * 10) / 10;
      const successWeight = Math.round((weight - loss) * 10) / 10;

      const lossText = loss.toFixed(1);
      const successText = successWeight.toFixed(1);

      resultEl.innerHTML =
        `ì„±ê³µ ì‹œ ì²´ì¤‘: <strong>${successText} kg</strong><br>` +
        `ì¤„ì–´ë“œëŠ” ì²´ì¤‘: <strong style="color:#d93025;">-${lossText}</strong> kg`;
    });

    document.getElementById("leadForm").addEventListener("submit", function (e) {
      e.preventDefault();

      const name     = document.getElementById("name").value.trim();
      const referrer = document.getElementById("referrer").value.trim();
      const memo     = document.getElementById("memo").value.trim();
      const desiredPeriod = document.getElementById("desiredPeriod").value;
      const consentChecked = document.getElementById("consent").checked;

      if (!name) {
        alert("ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");
        return;
      }
      if (!consentChecked) {
        alert("ê°œì¸ì •ë³´ ìˆ˜ì§‘Â·ì´ìš©ì— ë™ì˜í•´ì£¼ì…”ì•¼ í•©ë‹ˆë‹¤.");
        return;
      }

      const btn = document.getElementById("submitBtn");
      btn.disabled = true;
      btn.textContent = "ì „ì†¡ì¤‘...";

      const formData = new FormData();
      formData.append("name", name);
      formData.append("referrer", referrer);
      formData.append("memo", memo);
      formData.append("consent", "ë™ì˜í•¨");
      formData.append("formType", "1ì°¨");
      formData.append("visit_mode", "ë¹„ëŒ€ë©´");
      if (desiredPeriod) {
        formData.append("desired_period", desiredPeriod);
      }

      fetch(SCRIPT_URL, {
        method: "POST",
        body: formData,
        mode: "no-cors"
      }).catch(function (err) {
        console.error("ì‘ë‹µ ì „ì†¡ ì˜¤ë¥˜(ì „ì†¡ì€ ì‹œë„ë¨):", err);
      }).finally(function () {
        alert(
          "ì„¤ë¬¸ì´ ì •ìƒì ìœ¼ë¡œ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤.\n\n" +
          "ì´ì–´ì„œ ì—´ë¦¬ëŠ” ì¹´ì¹´ì˜¤í†¡ ì±„íŒ…ì°½ì—ì„œ\n" +
          "ë©”ì‹œì§€ëŠ” ì´ë¯¸ ì…ë ¥ë˜ì–´ ìˆìŠµë‹ˆë‹¤.\n\n" +
          "ğŸ‘‰ ì „ì†¡ ë²„íŠ¼ë§Œ ëˆŒëŸ¬ì£¼ì„¸ìš”."
        );
        window.location.href = KAKAO_URL;
      });
    });
  </script>
</body>
</html>
